<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Xeon-CafPhi : Caffe deep learning framework - optimized for Xeon Phi">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Xeon-CafPhi</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/rohithj/Xeon-CafPhi">View on GitHub</a>

          <h1 id="project_title">Xeon-CafPhi</h1>
          <h2 id="project_tagline">Caffe deep learning framework - optimized for Xeon Phi</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/rohithj/Xeon-CafPhi/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/rohithj/Xeon-CafPhi/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="project-proposal" class="anchor" href="#project-proposal" aria-hidden="true"><span class="octicon octicon-link"></span></a>Project Proposal</h1>

<h2>
<a id="summary" class="anchor" href="#summary" aria-hidden="true"><span class="octicon octicon-link"></span></a>Summary</h2>

<p>Optimize Caffe deep learning framework on <a href="http://ark.intel.com/products/71992/Intel-Xeon-Phi-Coprocessor-5110P-8GB-1_053-GHz-60-core">Xeon Phi</a>. Optimization will be done by evaluating the performance of CIFAR-10 and MNIST data sets. We also plan to make a detailed analysis on the performance of Caffe on Xeon Phi (with and without GPU support).</p>

<h2>
<a id="background" class="anchor" href="#background" aria-hidden="true"><span class="octicon octicon-link"></span></a>Background</h2>

<p><img src="http://deeplearning.net/tutorial/_images/mylenet.png" alt=""></p>

<p>A convolutional neural network is currently a very famous Machine Learning algorithm which is used to classify data. It is especially used in computer vision to classify images with high accuracy. A convolutional neural network applied on an image has multiple axes of parallelism at the different layers of the propagation during the training and testing of the network.</p>

<p>Each hidden layer has multiple feature maps, which are produced by convolving respective weights weighed over all the pixels of the previous layerâ€™s feature maps and adding corresponding results. This convolution task is highly parallelisable. </p>

<p>MaxPooling is a task of subsampling the image by taking the average or maximum amongst subparts of the images. This is done in order to avoid any variance. This task of down-sampling images is also highly parallelisable.</p>

<p>Caffe is a framework written in C++ to implement this convolutional neural network, in order to utilise these axes of parallelism available. Caffe takes the convolutions, uses cblas library to turn them into a bunch of matrix multiplications and the uses CudaDNN with Nvidia GPUs to attain faster training speeds.</p>

<h2>
<a id="challenge" class="anchor" href="#challenge" aria-hidden="true"><span class="octicon octicon-link"></span></a>Challenge</h2>

<p>Optimizing Caffe for Xeon Phi is hard as it is already optimized for both generic CPU and GPU. We intend to find specific parts of Caffe implementation that can be optimized to better use the features of Xeon Phi which will be challenging to find. This will require us to understand the existing parallelism support and find new parallelism or fine tune existing support to that of Xeon Phi. </p>

<p>My partner and I have not used or worked with Caffe before and hence we will need to spend time to use and understand the code. Convolution implementation is done by transforming the input data to matrices and computation is done on these. We would need to understand and reimplement this feature to better utilize parallelism of Xeon Phi, which will be challenging.</p>

<h2>
<a id="resources" class="anchor" href="#resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resources</h2>

<p>Hardware: We will be using Latedays cluster machine that has Xeon Phi co-processor board. We will also be using our laptops to perform initial testing. 
Software: Caffe software which comes with BSD 2-Clause license will be our starting point for this project. Test Data sets: CIFAR-10 and MNIST will also be required for evaluation.</p>

<h2>
<a id="goalsdeliverables" class="anchor" href="#goalsdeliverables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Goals/Deliverables:</h2>

<p>Primary goal is to understand and modify the Caffe codebase to best utilize all the resources available in Xeon Phi. We will be evaluating performance with CIFAR-10 and MNIST data sets and comparing the same with default Caffe code run on the same machine.</p>

<p>Overall, we would like to gain information about performance benefits of optimizing Caffe on a powerful board such as Xeon Phi. We would also like to gain information about the performance drawbacks of running these optimized code on other machines such as our laptops.</p>

<p>A possible extension is to explore the optimization of Caffe code with GPU support on Latedays cluster.</p>

<h2>
<a id="platforms" class="anchor" href="#platforms" aria-hidden="true"><span class="octicon octicon-link"></span></a>Platforms</h2>

<p>We will be using the Linux posix threads framework and ISPC framework to parallelise the caffe implementation for the Xeon Phi processor of Latedays cluster. We will also consider OpenMPI to leverage other 14 cores on Latedays cluster.</p>

<h2>
<a id="schedule" class="anchor" href="#schedule" aria-hidden="true"><span class="octicon octicon-link"></span></a>Schedule</h2>

<ul>
<li>Friday, April 10: We shall port the caffe framework on Latedays Xeon Phi cluster and apply it to CIFAR10 dataset.</li>
<li>Friday, April 17: Next we wish to switch on the GPU capability of Caffe and find means to measure its performance.</li>
<li>We will time the implementation, recognise the the bottlenecks for both serial and GPU implementation of Caffe on latedays, also recognise opportunities of parallelism utilised by GPU matrix multiplication method.</li>
<li>Friday, April 24: Decide on the implementation on XeonPhi via matrix multiplication or convolution. We will implement the Caffe CNN using ISPC on the XeonPhi. Optimise the implementation keeping in mind both the cache coherence and the bandwidth.</li>
<li>Friday, May 1: We time our implementation, check for correctness and race the caffe CPU vs GPU implementation.</li>
<li>Thursday, May 7: Buffer week. Add any additional features if time permits (Combining GPU and CPU features on Latedays cluster).</li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Xeon-CafPhi maintained by <a href="https://github.com/rohithj">rohithj</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
